Цей проект є навчальним консольним застосунком на мові Python, який демонструє принцип роботи атаки SQL Injection (SQLi). Програма наочно показує різницю між небезпечним кодом (де можливий витік даних) та захищеним кодом, що використовує кращі практики безпеки.

Функціонал
Застосунок імітує систему пошуку співробітників у базі даних компанії і має два режими роботи:

Вразливий пошук: Дозволяє зловмиснику маніпулювати SQL-запитом та отримувати доступ до прихованих даних.

Захищений пошук: Блокує будь-які спроби ін'єкцій, використовуючи параметризовані запити.

Технічні вимоги
Мова: Python 3.x

База даних: SQLite (вбудована в Python, встановлювати нічого не потрібно).

ОС: Windows, macOS, або Linux.

Як запустити
Переконайтеся, що у вас встановлено Python.

Збережіть файл з кодом програми як sqli_demo.py.

Відкрийте термінал (або командний рядок cmd) у папці з файлом.

Запустіть команду:

Bash

python sqli_demo.py
Сценарії демонстрації (Demo Guide)
Використовуйте ці сценарії, щоб продемонструвати роботу програми викладачу або аудиторії.

Сценарій 1: Нормальна робота (Базовий тест)
Перевіряємо, як система працює для звичайного користувача.

Режим: 1 (Вразливий) або 2 (Захищений).

Ввід: Ivanenko

Результат: Система знаходить одного співробітника.

Сценарій 2: Атака "Boolean Based" (Витік даних)
Змушуємо базу даних показати всі записи, підставивши умову, яка завжди є істиною (1=1).

Режим: 1 (Вразливий).

Ввід (скопіюйте точно):

Plaintext

' OR '1'='1
Результат: Система виводить всю базу даних, включаючи директора та приховані паспортні дані. Це стається тому, що запит перетворився на: ...WHERE name = '' OR '1'='1'.

Сценарій 3: Блокування атаки
Перевіряємо той самий пейлоад (payload) на захищеній версії.

Режим: 2 (Захищений).

Ввід:

Plaintext

' OR '1'='1
Результат: "Нічого не знайдено". Система шукає людину, у якої прізвище буквально містить ці символи. SQL-команда не ламається.

Технічне пояснення
Чому версія 1 вразлива?
Використовується конкатенація рядків (f-strings). Ввід користувача вклеюється безпосередньо в тіло SQL-команди:

Python

# НЕБЕЗПЕЧНО
sql_query = f"SELECT * FROM employees WHERE name = '{user_input}'"
Інтерпретатор бази даних не може розрізнити, де закінчується команда розробника, а де починаються дані зловмисника.

Чому версія 2 безпечна?
Використовуються Prepared Statements (параметризовані запити). Запит компілюється заздалегідь з плейсхолдером ?:

Python

# БЕЗПЕЧНО
sql_query = "SELECT * FROM employees WHERE name = ?"
cursor.execute(sql_query, (user_input,))
База даних сприймає ввід виключно як текст (літерал), незалежно від того, які символи там знаходяться.